<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Task Calendar</h1>
  <div class="d-flex align-items-center gap-2">
    <button type="button" class="btn btn-success" onclick="window.dispatchEvent(new CustomEvent('calendar:create', { detail: { date: new Date().toISOString().split('T')[0] } }))">
      + Create Task
    </button>
    <div class="btn-group">
      <%= link_to "Table", tasks_path, class: "btn btn-outline-primary" %>
      <%= link_to "Calendar", calendar_tasks_path, class: "btn btn-primary active" %>
    </div>
  </div>
</div>

<div class="alert alert-secondary">
  <strong>Last frost date:</strong> <%= Setting.frost_date.to_fs(:long) %>
  <%= link_to "Edit", edit_settings_path, class: "btn btn-sm btn-primary ms-2" %>
</div>

<div class="card">
  <div class="card-body">
    <div
      data-controller="calendar"
      data-calendar-tasks-url-value="<%= tasks_path(format: :json) %>"
    >
      <div data-calendar-target="calendar"></div>
    </div>
  </div>
</div>

<!-- Task Creation/Edit Modal -->
<%= render 'tasks/task_modal' %>
